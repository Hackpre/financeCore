<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanceCore ERP | IFRS 18 Compliant</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="components.css">
    <link rel="stylesheet" href="landing.css">
    <link rel="stylesheet" href="app.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <!-- Hero Section -->
        <div class="hero-section">
            <nav class="landing-nav">
                <div class="nav-container">
                    <div class="landing-logo">FinanceCore ERP</div>
                    <div class="nav-links">
                        <a href="#features" class="nav-link">Features</a>
                        <a href="#pricing" class="nav-link">Pricing</a>
                        <a href="#testimonials" class="nav-link">Testimonials</a>
                        <button class="btn btn-login" onclick="showLoginModal()">Sign In</button>
                    </div>
                    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">‚ò∞</button>
                </div>
            </nav>
            
            <div class="hero-content">
                <h1 class="hero-title">
                    <span class="hero-highlight">IFRS 18 Compliant</span> ERP for<br>Modern Businesses & NGOs
                </h1>
                <p class="hero-subtitle">
                    Streamline your financial operations with AI-powered insights, real-time reporting, 
                    and complete compliance ‚Äî all in one intelligent platform.
                </p>
                <div class="hero-stats">
                    <div class="stat">
                        <div class="stat-number">99.9%</div>
                        <div class="stat-label">Uptime</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Companies</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Support</div>
                    </div>
                </div>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-lg" onclick="startTrial()">
                        üöÄ Start 15-Day Free Trial
                    </button>
                    <button class="btn btn-outline btn-lg" onclick="scrollToFeatures()">
                        üìã View Features
                    </button>
                </div>
            </div>
            
            <div class="hero-visual">
                <div class="dashboard-preview">
                    <div class="preview-header">
                        <div class="preview-dots">
                            <span class="dot red"></span>
                            <span class="dot yellow"></span>
                            <span class="dot green"></span>
                        </div>
                        <div class="preview-title">FinanceCore Dashboard</div>
                    </div>
                    <div class="preview-content">
                        <div class="preview-chart"></div>
                        <div class="preview-stats">
                            <div class="preview-stat">üìà Revenue: <strong>MWK 125.4M</strong></div>
                            <div class="preview-stat">üìä Profit: <strong>MWK 32.8M</strong></div>
                            <div class="preview-stat">üí∞ Cash Flow: <strong>+15.2%</strong></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Features Section -->
        <section id="features" class="features-section">
            <div class="container">
                <h2 class="section-title">Everything You Need for Financial Excellence</h2>
                <p class="section-subtitle">Powerful tools designed for both Corporate and NGO organizations</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <h3 class="feature-title">AI Cash Flow Predictions</h3>
                        <p class="feature-description">
                            Get accurate 6-month cash flow forecasts and actionable insights powered by artificial intelligence.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üìä</div>
                        <h3 class="feature-title">IFRS 18 Compliant Reporting</h3>
                        <p class="feature-description">
                            Automatically generate IFRS 18 compliant financial statements with the new income statement categories.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üè¶</div>
                        <h3 class="feature-title">Bank Reconciliation</h3>
                        <p class="feature-description">
                            Reconcile bank statements in minutes with intelligent matching and discrepancy detection.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üë•</div>
                        <h3 class="feature-title">Multi-User Collaboration</h3>
                        <p class="feature-description">
                            Work together with your team with role-based permissions and real-time updates.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üì¶</div>
                        <h3 class="feature-title">Inventory Management</h3>
                        <p class="feature-description">
                            Track stock levels, automate reordering, and manage inventory across multiple locations.
                        </p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">üåê</div>
                        <h3 class="feature-title">NGO & Corporate Modes</h3>
                        <p class="feature-description">
                            Switch between NGO and Corporate modes with tailored features for each organization type.
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Benefits Section -->
        <section class="benefits-section">
            <div class="container">
                <h2 class="section-title">Transform Your Financial Operations</h2>
                
                <div class="benefits-container">
                    <div class="benefit">
                        <div class="benefit-number">01</div>
                        <div class="benefit-content">
                            <h3>Save 20+ Hours Monthly</h3>
                            <p>Automate manual processes like bank reconciliation, invoice generation, and report creation.</p>
                        </div>
                    </div>
                    
                    <div class="benefit">
                        <div class="benefit-number">02</div>
                        <div class="benefit-content">
                            <h3>Reduce Errors by 95%</h3>
                            <p>Automated calculations and validation rules eliminate manual data entry mistakes.</p>
                        </div>
                    </div>
                    
                    <div class="benefit">
                        <div class="benefit-number">03</div>
                        <div class="benefit-content">
                            <h3>Make Data-Driven Decisions</h3>
                            <p>Access real-time financial insights and AI-powered predictions for better strategic planning.</p>
                        </div>
                    </div>
                    
                    <div class="benefit">
                        <div class="benefit-number">04</div>
                        <div class="benefit-content">
                            <h3>Stay Audit-Ready Always</h3>
                            <p>Complete audit trail, version control, and compliance-ready reports at your fingertips.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Pricing Section -->
        <section id="pricing" class="pricing-section">
            <div class="container">
                <h2 class="section-title">Simple, Transparent Pricing</h2>
                <p class="section-subtitle">No hidden fees, no long-term contracts</p>
                
                <div class="pricing-container">
                    <div class="pricing-card">
                        <div class="pricing-badge">FREE TRIAL</div>
                        <h3 class="pricing-plan">Free Trial</h3>
                        <div class="pricing-price">
                            <span class="price-amount">$0</span>
                            <span class="price-period">/15 days</span>
                        </div>
                        <p class="pricing-description">Full access to all features</p>
                        
                        <ul class="pricing-features">
                            <li>‚úÖ All features unlocked</li>
                            <li>‚úÖ Up to 5 users</li>
                            <li>‚úÖ 50 invoices/month</li>
                            <li>‚úÖ Basic support</li>
                            <li>‚úÖ 15 days full access</li>
                        </ul>
                        
                        <button class="btn btn-primary btn-block" onclick="startTrial()">
                            Start Free Trial
                        </button>
                    </div>
                    
                    <div class="pricing-card popular">
                        <div class="pricing-badge">MOST POPULAR</div>
                        <h3 class="pricing-plan">Professional</h3>
                        <div class="pricing-price">
                            <span class="price-amount">$49</span>
                            <span class="price-period">/month</span>
                        </div>
                        <p class="pricing-description">Perfect for growing businesses</p>
                        
                        <ul class="pricing-features">
                            <li>‚úÖ Unlimited users</li>
                            <li>‚úÖ Unlimited invoices</li>
                            <li>‚úÖ Multi-company support</li>
                            <li>‚úÖ Priority support</li>
                            <li>‚úÖ Advanced reports</li>
                            <li>‚úÖ API access</li>
                        </ul>
                        
                        <button class="btn btn-primary btn-block" onclick="startTrial()">
                            Get Started
                        </button>
                    </div>
                    
                    <div class="pricing-card">
                        <div class="pricing-badge">ENTERPRISE</div>
                        <h3 class="pricing-plan">Enterprise</h3>
                        <div class="pricing-price">
                            <span class="price-amount">$199</span>
                            <span class="price-period">/month</span>
                        </div>
                        <p class="pricing-description">For large organizations</p>
                        
                        <ul class="pricing-features">
                            <li>‚úÖ Everything in Professional</li>
                            <li>‚úÖ White-label option</li>
                            <li>‚úÖ Dedicated support</li>
                            <li>‚úÖ Custom integrations</li>
                            <li>‚úÖ On-premise deployment</li>
                            <li>‚úÖ SLA guarantee</li>
                        </ul>
                        
                        <button class="btn btn-outline btn-block" onclick="showContactModal()">
                            Contact Sales
                        </button>
                    </div>
                </div>
                
                <div class="pricing-note">
                    All plans include IFRS 18 compliance, AI analytics, and regular updates.
                </div>
            </div>
        </section>
        
        <!-- Testimonials Section -->
        <section id="testimonials" class="testimonials-section">
            <div class="container">
                <h2 class="section-title">Trusted by Finance Teams</h2>
                
                <div class="testimonials-grid">
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            "FinanceCore reduced our month-end closing from 5 days to just 2 days. The IFRS 18 reports are a game-changer for our audit process."
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">CK</div>
                            <div class="author-info">
                                <div class="author-name">Chikondi K.</div>
                                <div class="author-role">Finance Director, Manufacturing Co.</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            "As an NGO, we needed donor-specific reporting. FinanceCore's NGO mode gives us exactly what we need for grant compliance."
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">TM</div>
                            <div class="author-info">
                                <div class="author-name">Temwanani M.</div>
                                <div class="author-role">Program Manager, Health NGO</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="testimonial-card">
                        <div class="testimonial-content">
                            "The AI cash flow predictions helped us avoid a liquidity crisis. We saw a potential shortfall 3 months in advance."
                        </div>
                        <div class="testimonial-author">
                            <div class="author-avatar">RJ</div>
                            <div class="author-info">
                                <div class="author-name">Robert J.</div>
                                <div class="author-role">CFO, Retail Chain</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- CTA Section -->
        <section class="cta-section">
            <div class="container">
                <h2 class="cta-title">Ready to Transform Your Financial Management?</h2>
                <p class="cta-subtitle">Join 500+ companies already using FinanceCore ERP</p>
                
                <div class="cta-buttons">
                    <button class="btn btn-primary btn-xl" onclick="startTrial()">
                        üöÄ Start Your Free Trial
                    </button>
                    <button class="btn btn-outline btn-xl" onclick="showDemoModal()">
                        üìΩÔ∏è Watch Demo
                    </button>
                </div>
                
                <div class="cta-features">
                    <div class="cta-feature">‚úÖ No credit card required</div>
                    <div class="cta-feature">‚úÖ Full access for 15 days</div>
                    <div class="cta-feature">‚úÖ Cancel anytime</div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="landing-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-brand">
                        <div class="landing-logo">FinanceCore ERP</div>
                        <p class="footer-tagline">IFRS 18 Compliant Financial Management</p>
                    </div>
                    
                    <div class="footer-links">
                        <div class="footer-column">
                            <h4>Product</h4>
                            <a href="#features">Features</a>
                            <a href="#pricing">Pricing</a>
                            <a href="#testimonials">Testimonials</a>
                            <a href="#" onclick="showDemoModal()">Demo</a>
                        </div>
                        
                        <div class="footer-column">
                            <h4>Company</h4>
                            <a href="#" onclick="showContactModal()">Contact</a>
                            <a href="#" onclick="showContactModal()">Support</a>
                            <a href="#" onclick="showPrivacyModal()">Privacy</a>
                            <a href="#" onclick="showTermsModal()">Terms</a>
                        </div>
                        
                        <div class="footer-column">
                            <h4>Connect</h4>
                            <a href="#">LinkedIn</a>
                            <a href="#">Twitter</a>
                            <a href="#">Facebook</a>
                            <a href="/cdn-cgi/l/email-protection#added8ddddc2dfd9edcbc4c3ccc3cec8cec2dfc883cec2c0">Email</a>
                        </div>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>¬© 2024 FinanceCore ERP. All rights reserved. Designed with ‚ù§Ô∏è for finance professionals.</p>
                    <p>+265 888 879 052 | <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e1929491918e9395a187888f808f8284828e9384cf828e8c">[email&#160;protected]</a></p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Main App (Hidden Initially) -->
    <div id="mainApp" class="app-container">
        <div class="mobile-overlay" id="mobileOverlay"></div>
        
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="brand">
                <img src="" id="sidebarLogo" class="company-logo" alt="Logo" style="display: none;">
                <div class="brand-text">
                    <h1 id="companyName">FinanceCore</h1>
                    <p>IFRS 18 Compliant</p>
                </div>
            </div>
            
            <div class="settings-bar">
                <div class="setting-row">
                    <span>üåì Dark Mode</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-row" style="flex-direction: column; align-items: stretch; gap: 8px;">
                    <span>üè¢ Industry Mode</span>
                    <div class="industry-selector">
                        <button class="industry-option active" data-industry="corporate">Corp</button>
                        <button class="industry-option" data-industry="ngo">NGO</button>
                    </div>
                </div>
            </div>
            
            <nav class="nav-menu">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <div class="nav-item active" data-page="dashboard"><span class="nav-item-icon">üìä</span> Dashboard</div>
                    <div class="nav-item" data-page="ai-analytics"><span class="nav-item-icon">ü§ñ</span> AI Cash Flow</div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Accounting</div>
                    <div class="nav-item" data-page="journal"><span class="nav-item-icon">üìñ</span> Journal Entries</div>
                    <div class="nav-item" data-page="chart-of-accounts"><span class="nav-item-icon">üóÇÔ∏è</span> Chart of Accounts</div>
                    <div class="nav-item" data-page="bank-reconciliation"><span class="nav-item-icon">üè¶</span> Bank Reconciliation</div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Sales</div>
                    <div class="nav-item" data-page="customers"><span class="nav-item-icon">üë•</span> Customers</div>
                    <div class="nav-item" data-page="quotations"><span class="nav-item-icon">üìã</span> Quotations</div>
                    <div class="nav-item" data-page="invoices"><span class="nav-item-icon">üìÑ</span> Invoices</div>
                    <div class="nav-item" data-page="receipts"><span class="nav-item-icon">üí∞</span> Receipts</div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Inventory</div>
                    <div class="nav-item" data-page="products"><span class="nav-item-icon">üì¶</span> Products</div>
                    <div class="nav-item" data-page="stock"><span class="nav-item-icon">üìä</span> Stock Management</div>
                </div>
                
                <div class="nav-section" id="ngoSection" style="display: none;">
                    <div class="nav-section-title">NGO Specific</div>
                    <div class="nav-item" data-page="donors"><span class="nav-item-icon">üíù</span> Donors & Grants</div>
                    <div class="nav-item" data-page="projects"><span class="nav-item-icon">üéØ</span> Projects</div>
                    <div class="nav-item" data-page="compliance"><span class="nav-item-icon">‚úÖ</span> Compliance Reports</div>
                </div>
                
                <div class="nav-section" id="corporateSection">
                    <div class="nav-section-title">Corporate Specific</div>
                    <div class="nav-item" data-page="payroll"><span class="nav-item-icon">üíµ</span> Payroll</div>
                    <div class="nav-item" data-page="assets"><span class="nav-item-icon">üè≠</span> Fixed Assets</div>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Reports (IFRS 18)</div>
                    <div class="nav-item" data-page="income-statement"><span class="nav-item-icon">üìà</span> Income Statement</div>
                    <div class="nav-item" data-page="balance-sheet"><span class="nav-item-icon">‚öñÔ∏è</span> Balance Sheet</div>
                    <div class="nav-item" data-page="cashflow"><span class="nav-item-icon">üíµ</span> Cash Flow Statement</div>
                    <div class="nav-item" data-page="trial-balance"><span class="nav-item-icon">üìä</span> Trial Balance</div>
                </div> 
                <div class="nav-section">
                    <div class="nav-section-title">Settings</div>
                    <div class="nav-item" data-page="team"><span class="nav-item-icon">üë•</span> Team Management</div>
                    <div class="nav-item" data-page="company-profile"><span class="nav-item-icon">üè¢</span> Company Profile</div>
             <li onclick="navigateTo('settings')">
                    <i>‚öôÔ∏è</i>
                        <span>Settings</span>
                </li>
                    <div class="nav-item" onclick="logout()" style="cursor: pointer; color: #ef4444;">
                        <span class="nav-item-icon">üö™</span> Logout
                    </div>
                </div>
            </nav>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <header class="top-bar">
                <div class="top-bar-left">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
                    <div class="search-bar">
                        <span>üîç</span>
                        <input type="text" placeholder="Search transactions, customers, products..." id="globalSearch">
                    </div>
                </div>
                <div class="user-info">
                    <div class="user-details" style="display: none;">
                        <div style="font-weight: 600; font-size: 14px;" id="userName">Austin Phiri</div>
                        <div style="font-size: 12px; color: var(--text-secondary);" id="userRole">Finance Director</div>
                    </div>
                    <div class="user-avatar" id="userAvatar">AP</div>
                </div>
            </header>
            
            <div class="content-area" id="contentArea">
                <!-- Dashboard -->
                <div id="page-dashboard">
                    <div class="page-header">
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Financial Overview & Key Metrics</p>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Total Revenue (YTD)</div>
                            <div class="stat-value">MWK 125.4M</div>
                            <div class="stat-change positive"><span>‚Üë</span> 12.5% from last year</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Net Profit</div>
                            <div class="stat-value">MWK 32.8M</div>
                            <div class="stat-change positive"><span>‚Üë</span> 8.3% margin</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Outstanding Receivables</div>
                            <div class="stat-value">MWK 18.2M</div>
                            <div class="stat-change negative"><span>‚Üì</span> 3 invoices overdue</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Inventory Value</div>
                            <div class="stat-value">MWK 45.6M</div>
                            <div class="stat-change positive"><span>‚Üë</span> 234 items in stock</div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Recent Transactions</h2>
                            <button class="btn btn-primary btn-sm" onclick="showModal('journalModal')">+ New Entry</button>
                        </div>
                        <div class="table-container">
                            <table id="recentTransactionsTable">
                                <thead>
                                    <tr><th>Date</th><th>Reference</th><th>Description</th><th>Account</th><th class="text-right">Debit</th><th class="text-right">Credit</th><th>Status</th></tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Pending Invoices</h2>
                            <button class="btn btn-primary btn-sm" onclick="navigateTo('invoices')">View All</button>
                        </div>
                        <div class="table-container">
                            <table id="pendingInvoicesTable">
                                <thead>
                                    <tr><th>Invoice #</th><th>Customer</th><th>Date</th><th>Due Date</th><th class="text-right">Amount</th><th>Status</th><th>Actions</th></tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- AI Analytics Page -->
                <div id="page-ai-analytics" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">AI Cash Flow Analytics</h1>
                        <p class="page-subtitle">Predictive cash flow analysis and insights powered by AI</p>
                    </div>
                    
                    <div class="stats-grid mb-3">
                        <div class="stat-card">
                            <div class="stat-label">Predicted Cash Balance (30 days)</div>
                            <div class="stat-value">MWK 28.4M</div>
                            <div class="stat-change positive"><span>‚Üë</span> 15.2% increase expected</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Risk Score</div>
                            <div class="stat-value">LOW</div>
                            <div class="stat-change positive"><span>‚úì</span> Healthy cash position</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Predicted Shortfall Risk</div>
                            <div class="stat-value">8%</div>
                            <div class="stat-change negative"><span>‚Üì</span> Minimal risk detected</div>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h2 class="card-title">Cash Flow Predictions <span class="ai-badge">ü§ñ AI-POWERED</span></h2>
                            <button class="btn btn-primary" onclick="generateAIPredictions()">üîÑ Generate New Predictions</button>
                        </div>
                        
                        <div class="mb-3">
                            <canvas id="cashflowChart" width="400" height="300"></canvas>
                        </div>
                        
                        <div id="aiPredictionsContainer">
                            <!-- Predictions will be loaded here -->
                            <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                                Click "Generate New Predictions" to see AI cash flow forecasts
                            </div>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h2 class="card-title">AI Insights & Recommendations</h2>
                        </div>
                        <div id="aiInsightsContainer">
                            <div class="prediction-card">
                                <div class="prediction-month">üí° Top Insight</div>
                                <p>Your cash position is strong. Consider early payment discounts with suppliers to improve margins.</p>
                            </div>
                            <div class="prediction-card">
                                <div class="prediction-month">‚ö†Ô∏è Risk Alert</div>
                                <p>Monitor receivables from Global Trading Ltd - payment is 15 days overdue.</p>
                            </div>
                            <div class="prediction-card">
                                <div class="prediction-month">üìà Opportunity</div>
                                <p>Based on seasonal trends, consider increasing inventory of Premium Widgets by 20% for Q1.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">What-If Scenarios</h2>
                        </div>
                        <div class="form-grid mb-3">
                            <div class="form-group">
                                <label class="form-label">Scenario Name</label>
                                <input type="text" class="form-input" id="scenarioName" placeholder="e.g., New Client Acquisition">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Expected Revenue Impact</label>
                                <input type="number" class="form-input" id="revenueImpact" placeholder="MWK">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Additional Costs</label>
                                <input type="number" class="form-input" id="additionalCosts" placeholder="MWK">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Timeframe (months)</label>
                                <input type="number" class="form-input" id="scenarioMonths" value="6" min="1" max="24">
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="runScenarioAnalysis()">Run Scenario Analysis</button>
                        
                        <div id="scenarioResults" class="mt-3" style="display: none;">
                            <div class="prediction-card">
                                <h4>Scenario Results</h4>
                                <div id="scenarioDetails"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Customers Page -->
              <div id="page-customers" class="hidden">
    <div class="page-header">
        <h1 class="page-title">Customers</h1>
        <p class="page-subtitle">Manage customer relationships, credit limits, and receivables</p>
    </div>
    
    <!-- Summary Statistics -->
    <div class="stats-grid mb-3">
        <div class="stat-card">
            <div class="stat-label">Total Customers</div>
            <div class="stat-value" id="totalCustomersStat">0</div>
            <div class="stat-change">All customers</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Active Customers</div>
            <div class="stat-value" id="activeCustomersStat">0</div>
            <div class="stat-change positive">Currently active</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Total Receivables</div>
            <div class="stat-value" id="totalReceivablesStat">MWK 0</div>
            <div class="stat-change negative">Outstanding</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Overdue Customers</div>
            <div class="stat-value" id="overdueCustomersStat">0</div>
            <div class="stat-change">Need follow-up</div>
        </div>
    </div>
    
    <!-- Filters Card -->
    <div class="card mb-3">
        <div class="card-header">
            <h3 class="card-title">üîç Filters</h3>
            <button class="btn btn-outline btn-sm" onclick="clearCustomerFilters()">Clear All</button>
        </div>
        <div class="form-grid" style="padding: 20px;">
            <div class="form-group">
                <label class="form-label">Status</label>
                <select class="form-select" id="customerStatusFilter" onchange="applyCustomerFilters()">
                    <option value="all">All Status</option>
                    <option value="active">Active Only</option>
                    <option value="inactive">Inactive Only</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Category</label>
                <select class="form-select" id="customerCategoryFilter" onchange="applyCustomerFilters()">
                    <option value="all">All Categories</option>
                    <option value="General">General</option>
                    <option value="Corporate">Corporate</option>
                    <option value="Government">Government</option>
                    <option value="NGO">NGO</option>
                    <option value="SME">SME</option>
                    <option value="Individual">Individual</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Search</label>
                <input type="text" class="form-input" id="customerSearchInput" 
                       placeholder="Name, email, phone, code..." 
                       oninput="applyCustomerFilters()">
            </div>
        </div>
    </div>
    
    <!-- Customers Table -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">Customer List</h2>
            <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                <button class="btn btn-outline btn-sm" onclick="showAgingReport()">üìä Aging Report</button>
                <button class="btn btn-outline btn-sm" onclick="showImportCustomersModal()">üì§ Import</button>
                <button class="btn btn-secondary btn-sm" onclick="exportCustomersToCSV()">üìÑ CSV</button>
                <button class="btn btn-success btn-sm" onclick="exportCustomersToExcel()">üìó Excel</button>
                <button class="btn btn-primary" onclick="showCustomerModal()">+ New Customer</button>
            </div>
        </div>
        <div class="table-container">
            <table id="customersTable">
                <thead>
                    <tr>
                        <th>Customer Code</th>
                        <th>Contact Person</th>
                        <th>Email & Phone</th>
                        <th>Category</th>
                        <th class="text-right">Receivables</th>
                        <th class="text-right">Credit Limit</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="customersTableBody"></tbody>
            </table>
        </div>
    </div>
    
    <!-- Quick Tips -->
    <div class="card mt-3">
        <div class="card-header">
            <h3 class="card-title">üí° Quick Tips</h3>
        </div>
        <ul style="padding: 20px; margin-left: 20px; line-height: 2;">
            <li><strong>Credit Limit:</strong> Set maximum amount customer can owe. System warns at 80% usage.</li>
            <li><strong>Payment Terms:</strong> Defines when payment is due (e.g., Net 30 = due in 30 days).</li>
            <li><strong>Receivables:</strong> Automatically calculated from unpaid invoices.</li>
            <li><strong>Customer Statement:</strong> Click view to see transaction history and generate statements.</li>
            <li><strong>Aging Report:</strong> Shows how long receivables have been outstanding.</li>
            <li><strong>Categories:</strong> Organize customers by type for better reporting and analysis.</li>
        </ul>
    </div>
</div>

                
                <!-- Products Page -->
                <div id="page-products" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Products & Services</h1>
                        <p class="page-subtitle">Manage inventory items and service offerings</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Product Catalog</h2>
                            <button class="btn btn-primary" onclick="showModal('productModal')">+ New Product</button>
                        </div>
                        <div class="table-container">
                            <table id="productsTable">
                                <thead><tr><th>Product Code</th><th>Name</th><th>Category</th><th class="text-right">Unit Price</th><th class="text-right">Stock</th><th>Status</th><th>Actions</th></tr></thead>
                                <tbody id="productsTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Invoices Page -->
                <div id="page-invoices" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Invoices</h1>
                        <p class="page-subtitle">Create and manage customer invoices</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">All Invoices</h2>
                            <button class="btn btn-primary" onclick="showModal('invoiceModal')">+ New Invoice</button>
                        </div>
                        <div class="table-container">
                            <table id="invoicesTable">
                                <thead><tr><th>Invoice #</th><th>Customer</th><th>Date</th><th>Due Date</th><th class="text-right">Amount</th><th>Status</th><th>Actions</th></tr></thead>
                                <tbody id="invoicesTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Quotations Page -->
                <div id="page-quotations" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Quotations</h1>
                        <p class="page-subtitle">Create and manage sales quotations</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">All Quotations</h2>
                            <button class="btn btn-primary" onclick="showQuotationModal()">+ New Quotation</button>
                        </div>
                        <div class="table-container">
                            <table id="quotationsTable">
                                <thead>
                                    <tr>
                                        <th>Quote #</th>
                                        <th>Customer</th>
                                        <th>Date</th>
                                        <th>Valid Until</th>
                                        <th class="text-right">Amount</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="quotationsTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Receipts Page -->
                <div id="page-receipts" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Receipts</h1>
                        <p class="page-subtitle">Record and manage payment receipts</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Payment Receipts</h2>
                            <button class="btn btn-primary" onclick="showNotification('Receipt functionality coming soon!', false, 'info')">+ New Receipt</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Receipt #</th>
                                        <th>Date</th>
                                        <th>Customer</th>
                                        <th>Invoice #</th>
                                        <th class="text-right">Amount</th>
                                        <th>Method</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="7" class="text-center">No receipts found. This feature will be available soon.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Stock Management Page -->
                <div id="page-stock" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Stock Management</h1>
                        <p class="page-subtitle">Track inventory movements and stock levels</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Stock Movements</h2>
                            <button class="btn btn-primary" onclick="showNotification('Stock movement functionality coming soon!', false, 'info')">+ Record Movement</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Product</th>
                                        <th>Type</th>
                                        <th class="text-right">Quantity</th>
                                        <th>Reference</th>
                                        <th>Notes</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="6" class="text-center">No stock movements recorded. This feature will be available soon.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Projects Page (NGO Mode) -->
                <div id="page-projects" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Projects</h1>
                        <p class="page-subtitle">Manage NGO projects and activities</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Active Projects</h2>
                            <button class="btn btn-primary" onclick="showNotification('Project management functionality coming soon!', false, 'info')">+ New Project</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Project Name</th>
                                        <th>Grant</th>
                                        <th>Start Date</th>
                                        <th>End Date</th>
                                        <th class="text-right">Budget</th>
                                        <th class="text-right">Spent</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="8" class="text-center">No projects found. This feature will be available soon.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Donors Page (NGO Mode) -->
                <div id="page-donors" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Donors & Grants</h1>
                        <p class="page-subtitle">Manage donor relationships and grant funding</p>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h2 class="card-title">Donors</h2>
                            <button class="btn btn-primary" onclick="showDonorModal()">+ New Donor</button>
                        </div>
                        <div class="table-container">
                            <table id="donorsTable">
                                <thead>
                                    <tr>
                                        <th>Donor Name</th>
                                        <th>Type</th>
                                        <th>Contact Person</th>
                                        <th>Email</th>
                                        <th class="text-right">Total Funding</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="donorsTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Grants</h2>
                            <button class="btn btn-primary" onclick="showGrantModal()">+ New Grant</button>
                        </div>
                        <div class="table-container">
                            <table id="grantsTable">
                                <thead>
                                    <tr>
                                        <th>Grant Name</th>
                                        <th>Donor</th>
                                        <th>Start Date</th>
                                        <th>End Date</th>
                                        <th class="text-right">Amount</th>
                                        <th class="text-right">Spent</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="grantsTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Compliance Reports Page (NGO Mode) -->
                <div id="page-compliance" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Compliance Reports</h1>
                        <p class="page-subtitle">Generate donor compliance and audit reports</p>
                    </div>
                    
                    <div class="stats-grid mb-3">
                        <div class="stat-card">
                            <div class="stat-label">Active Grants</div>
                            <div class="stat-value">5</div>
                            <div class="stat-change positive"><span>‚Üë</span> 2 new this year</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Compliance Rate</div>
                            <div class="stat-value">98%</div>
                            <div class="stat-change positive"><span>‚úì</span> On track</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Reports Due</div>
                            <div class="stat-value">3</div>
                            <div class="stat-change negative"><span>!</span> Within 30 days</div>
                        </div>
                    </div>
                    
                    <div class="card mb-3">
                        <div class="card-header">
                            <h2 class="card-title">Generate Compliance Report</h2>
                        </div>
                        <form onsubmit="event.preventDefault(); showNotification('Compliance report generation coming soon!', false, 'info');">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">Report Type *</label>
                                    <select class="form-select" required>
                                        <option value="">Select Report Type</option>
                                        <option value="financial">Financial Report</option>
                                        <option value="narrative">Narrative Report</option>
                                        <option value="activity">Activity Report</option>
                                        <option value="audit">Audit Report</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Donor/Grant *</label>
                                    <select class="form-select" required>
                                        <option value="">Select Grant</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Period From *</label>
                                    <input type="date" class="form-input" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Period To *</label>
                                    <input type="date" class="form-input" required>
                                </div>
                            </div>
                            <div class="btn-group">
                                <button type="submit" class="btn btn-primary">Generate Report</button>
                                <button type="button" class="btn btn-secondary" onclick="showNotification('Preview functionality coming soon!', false, 'info')">Preview</button>
                            </div>
                        </form>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Recent Compliance Reports</h2>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Report Name</th>
                                        <th>Type</th>
                                        <th>Grant</th>
                                        <th>Period</th>
                                        <th>Generated</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="6" class="text-center">No compliance reports yet. Generate one above.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Payroll Page (Corporate Mode) -->
                <div id="page-payroll" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Payroll Management</h1>
                        <p class="page-subtitle">Process employee salaries and wages</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Payroll Records</h2>
                            <button class="btn btn-primary" onclick="showPayrollModal()">+ New Payroll</button>
                        </div>
                        <div class="table-container">
                            <table id="payrollTable">
                                <thead>
                                    <tr>
                                        <th>Period</th>
                                        <th>Employees</th>
                                        <th class="text-right">Gross Pay</th>
                                        <th class="text-right">Deductions</th>
                                        <th class="text-right">Net Pay</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="payrollTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Fixed Assets Page (Corporate Mode) -->
                <div id="page-assets" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Fixed Assets</h1>
                        <p class="page-subtitle">Manage company assets and depreciation</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Asset Register</h2>
                            <button class="btn btn-primary" onclick="showNotification('Asset management functionality coming soon!', false, 'info')">+ Add Asset</button>
                        </div>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Asset ID</th>
                                        <th>Description</th>
                                        <th>Category</th>
                                        <th>Purchase Date</th>
                                        <th class="text-right">Cost</th>
                                        <th class="text-right">Depreciation</th>
                                        <th class="text-right">Net Book Value</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td colspan="8" class="text-center">No fixed assets found. This feature will be available soon.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Bank Reconciliation Page -->
                <div id="page-bank-reconciliation" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Bank Reconciliation</h1>
                        <p class="page-subtitle">Reconcile bank statements with book records</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Reconciliation</h2>
                            <button class="btn btn-primary" onclick="showNotification('Bank reconciliation functionality coming soon!', false, 'info')">+ New Reconciliation</button>
                        </div>
                        <div style="padding: 40px; text-align: center; color: var(--text-secondary);">
                            <p>Bank reconciliation feature is under development.</p>
                            <p>This will allow you to match bank transactions with your accounting records.</p>
                        </div>
                    </div>
                </div>
                
                <!-- Team Management Page -->
                <div id="page-team" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Team Management</h1>
                        <p class="page-subtitle">Manage team members and access permissions</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Team Members</h2>
                            <button class="btn btn-primary" onclick="showTeamMemberModal()">+ Add Team Member</button>
                        </div>
                        <div class="table-container">
                            <table id="teamTable">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Role</th>
                                        <th>Department</th>
                                        <th>Phone</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="teamTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Company Profile Page -->
                <div id="page-company-profile" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Company Profile</h1>
                        <p class="page-subtitle">Update your organization's information</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Organization Details</h2>
                        </div>
                        <form id="companyProfileForm" onsubmit="saveCompanyProfile(event)">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">Company Name *</label>
                                    <input type="text" class="form-input" id="companyName" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tax ID</label>
                                    <input type="text" class="form-input" id="companyTaxId">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Email *</label>
                                    <input type="email" class="form-input" id="companyEmail" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Phone *</label>
                                    <input type="tel" class="form-input" id="companyPhone" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Website</label>
                                    <input type="url" class="form-input" id="companyWebsite" placeholder="https://www.example.com">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Address *</label>
                                <textarea class="form-textarea" id="companyAddress" rows="3" required></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Company Logo</label>
                                <input type="file" class="form-input" id="companyLogo" accept="image/*">
                                <div id="currentLogoPreview" style="display: none; margin-top: 10px;">
                                    <img id="currentLogo" src="" alt="Company Logo" style="max-width: 200px; border-radius: 8px;">
                                </div>
                            </div>
                            <div class="btn-group">
                                <button type="submit" class="btn btn-primary">Save Profile</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Journal Entries Page -->
            <div id="page-journal" class="hidden">
    <div class="page-header">
        <h1 class="page-title">Journal Entries</h1>
        <p class="page-subtitle">Record and manage accounting transactions - Automatically updates Financial Statements</p>
    </div>
    
    <!-- Summary Statistics -->
    <div class="stats-grid mb-3">
        <div class="stat-card">
            <div class="stat-label">Total Entries</div>
            <div class="stat-value" id="totalJournalEntriesStat">0</div>
            <div class="stat-change">All journal entries</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Draft Entries</div>
            <div class="stat-value" id="draftJournalEntriesStat">0</div>
            <div class="stat-change" style="color: var(--warning);">Awaiting posting</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Posted Entries</div>
            <div class="stat-value" id="postedJournalEntriesStat">0</div>
            <div class="stat-change positive">Finalized</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Balance Status</div>
            <div class="stat-value" id="journalBalanceStat" style="font-size: 16px;">-</div>
            <div class="stat-change">Debits vs Credits</div>
        </div>
    </div>
    
    <!-- Filters Card -->
    <div class="card mb-3">
        <div class="card-header">
            <h3 class="card-title">üîç Filters</h3>
            <button class="btn btn-outline btn-sm" onclick="clearJournalFilters()">Clear All</button>
        </div>
        <div class="form-grid" style="padding: 20px;">
            <div class="form-group">
                <label class="form-label">Status</label>
                <select class="form-select" id="journalStatusFilter" onchange="applyJournalFilters()">
                    <option value="all">All Status</option>
                    <option value="draft">Draft Only</option>
                    <option value="posted">Posted Only</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">From Date</label>
                <input type="date" class="form-input" id="journalStartDate" onchange="applyJournalFilters()">
            </div>
            <div class="form-group">
                <label class="form-label">To Date</label>
                <input type="date" class="form-input" id="journalEndDate" onchange="applyJournalFilters()">
            </div>
            <div class="form-group">
                <label class="form-label">Search</label>
                <input type="text" class="form-input" id="journalSearchInput" 
                       placeholder="Entry #, description, reference..." 
                       oninput="applyJournalFilters()">
            </div>
        </div>
    </div>
    
    <!-- Journal Entries Table -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">General Journal</h2>
            <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                <button class="btn btn-secondary btn-sm" onclick="exportJournalToCSV()">üìä CSV</button>
                <button class="btn btn-success btn-sm" onclick="exportJournalToExcel()">üìó Excel</button>
                <button class="btn btn-outline btn-sm" onclick="exportJournalToPDF()">üìÑ PDF</button>
                <button class="btn btn-primary" onclick="showJournalModal()">+ New Entry</button>
            </div>
        </div>
        <div class="table-container">
            <table id="journalTable">
                <thead>
                    <tr>
                        <th>Entry #</th>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Reference</th>
                        <th class="text-right">Debit</th>
                        <th class="text-right">Credit</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="journalTableBody"></tbody>
            </table>
        </div>
    </div>
    
    <!-- Help Section -->
    <div class="card mt-3">
        <div class="card-header">
            <h3 class="card-title">üí° Journal Entry Guidelines</h3>
        </div>
        <div style="padding: 20px;">
            <div class="mb-3">
                <h4 style="margin-bottom: 8px;">Double-Entry Bookkeeping Rules:</h4>
                <ul style="margin-left: 20px; line-height: 2;">
                    <li><strong>Balance Required:</strong> Total Debits must equal Total Credits</li>
                    <li><strong>Minimum Lines:</strong> At least 2 lines (one debit, one credit)</li>
                    <li><strong>Draft vs Posted:</strong> Draft entries can be edited; Posted entries update account balances</li>
                    <li><strong>Posted Entries:</strong> Cannot be edited or deleted - use Reverse instead</li>
                    <li><strong>Reversing:</strong> Creates a new entry with opposite debits/credits</li>
                </ul>
            </div>
            
            <div class="mb-3">
                <h4 style="margin-bottom: 8px;">Debit and Credit Rules:</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
                    <div style="padding: 12px; background: rgba(59,130,246,0.1); border-left: 4px solid var(--primary); border-radius: 4px;">
                        <strong>Debit Increases:</strong><br>
                        ‚Ä¢ Assets<br>
                        ‚Ä¢ Expenses
                    </div>
                    <div style="padding: 12px; background: rgba(16,185,129,0.1); border-left: 4px solid var(--success); border-radius: 4px;">
                        <strong>Credit Increases:</strong><br>
                        ‚Ä¢ Liabilities<br>
                        ‚Ä¢ Equity<br>
                        ‚Ä¢ Revenue
                    </div>
                </div>
            </div>
            
            <div>
                <h4 style="margin-bottom: 8px;">Common Transaction Examples:</h4>
                <div style="padding: 12px; background: var(--bg-tertiary); border-radius: 8px; font-family: monospace; font-size: 13px;">
                    <strong>Cash Sale:</strong><br>
                    Debit: Cash (Asset) | Credit: Sales Revenue<br><br>
                    
                    <strong>Purchase on Credit:</strong><br>
                    Debit: Inventory (Asset) | Credit: Accounts Payable (Liability)<br><br>
                    
                    <strong>Pay Salary:</strong><br>
                    Debit: Salaries Expense | Credit: Cash (Asset)<br><br>
                    
                    <strong>Receive Payment:</strong><br>
                    Debit: Cash (Asset) | Credit: Accounts Receivable (Asset)
                </div>
            </div>
        </div>
    </div>
    
    <!-- Integration Info -->
    <div class="card mt-3" style="background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(16,185,129,0.1)); border: 1px solid var(--primary);">
        <div style="padding: 20px;">
            <h4 style="margin-bottom: 12px;">üîó Financial Statement Integration</h4>
            <p style="line-height: 1.8;">
                <strong>When you POST a journal entry:</strong><br>
                ‚úÖ Account balances automatically update in Chart of Accounts<br>
                ‚úÖ Balance Sheet reflects new account balances<br>
                ‚úÖ Income Statement shows updated revenue and expenses<br>
                ‚úÖ Trial Balance recalculates automatically<br>
                ‚úÖ Changes are permanent (use Reverse to correct)
            </p>
        </div>
    </div>
</div>
                
                <!-- Chart of Accounts Page -->
               <div id="page-chart-of-accounts" class="hidden">
    <div class="page-header">
        <h1 class="page-title">Chart of Accounts</h1>
        <p class="page-subtitle">IFRS 18 Compliant Account Structure - Automatically updates Financial Statements</p>
    </div>
    
    <div class="stats-grid mb-3">
        <div class="stat-card" onclick="showAccountSummary()" style="cursor: pointer;">
            <div class="stat-label">Total Accounts</div>
            <div class="stat-value" id="totalAccountsStat">0</div>
            <div class="stat-change">Click to view summary</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Total Assets</div>
            <div class="stat-value" id="totalAssetsStat">MWK 0</div>
            <div class="stat-change positive">Balance Sheet</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Total Liabilities</div>
            <div class="stat-value" id="totalLiabilitiesStat">MWK 0</div>
            <div class="stat-change negative">Balance Sheet</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Net Equity</div>
            <div class="stat-value" id="totalEquityStat">MWK 0</div>
            <div class="stat-change">Balance Sheet</div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">General Ledger Accounts</h2>
            <div style="display: flex; gap: 12px; flex-wrap: wrap;">
                <button class="btn btn-secondary btn-sm" onclick="showAccountSummary()">üìä View Summary</button>
                <button class="btn btn-success btn-sm" onclick="exportChartOfAccounts()">üì• Export CSV</button>
                <button class="btn btn-primary" onclick="showAccountModal()">+ New Account</button>
            </div>
        </div>
        <div class="table-container">
            <table id="accountsTable">
                <thead>
                    <tr>
                        <th>Account Code</th>
                        <th>Account Name</th>
                        <th>Type</th>
                        <th>Category</th>
                        <th class="text-right">Balance</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="accountsTableBody"></tbody>
            </table>
        </div>
    </div>
    
    <div class="card mt-3">
        <div class="card-header">
            <h3 class="card-title">üí° Quick Tips</h3>
        </div>
        <ul style="padding: 20px; margin-left: 20px; line-height: 2;">
            <li><strong>Account Codes:</strong> Use consistent numbering (1xxx = Assets, 2xxx = Liabilities, 3xxx = Equity, 4xxx = Revenue, 5xxx+ = Expenses)</li>
            <li><strong>Categories:</strong> IFRS 18 compliant categories automatically organize accounts in financial statements</li>
            <li><strong>Balances:</strong> Use negative values for credit balance accounts (Liabilities, Revenue)</li>
            <li><strong>Integration:</strong> Changes here automatically update Balance Sheet and Income Statement</li>
            <li><strong>Journal Entries:</strong> All accounts are available when creating journal entries</li>
        </ul>
    </div>
</div>
                
                <!-- Income Statement Page -->
                <div id="page-income-statement" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Statement of Profit or Loss</h1>
                        <p class="page-subtitle">IFRS 18 Format - For the Year Ended December 31, 2024</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Comprehensive Income Statement</h2>
                            <div class="btn-group">
                                <button class="btn btn-secondary" onclick="exportReport('income-statement')">üì• Export PDF</button>
                                <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print</button>
                            </div>
                        </div>
                        
                        <!-- IFRS 18 Income Statement Content -->
                        <div id="incomeStatementContent">
                            <!-- Dynamically generated -->
                        </div>
                    </div>
                </div>
                
                <!-- Balance Sheet Page -->
                <div id="page-balance-sheet" class="hidden">
                    <div class="page-header">
                        <h1 class="page-title">Statement of Financial Position</h1>
                        <p class="page-subtitle">As at December 31, 2024</p>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Balance Sheet (IFRS Format)</h2>
                            <div class="btn-group">
                                <button class="btn btn-secondary" onclick="exportReport('balance-sheet')">üì• Export PDF</button>
                                <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print</button>
                            </div>
                        </div>
                        
                        <!-- IFRS Balance Sheet Content -->
                        <div id="balanceSheetContent">
                            <!-- Dynamically generated -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('loginModal')">√ó</button>
            <div class="modal-header">
                <h2 class="modal-title">Sign In to FinanceCore</h2>
            </div>
            <form onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" class="form-input" placeholder="your@email.com" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <input type="password" class="form-input" placeholder="Enter your password" id="loginPassword" required>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 8px; margin-bottom: 20px;">
                    <input type="checkbox" id="rememberMe">
                    <label for="rememberMe" style="font-size: 14px;">Remember me</label>
                </div>
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">Sign In</button>
                    <button type="button" class="btn btn-outline" onclick="showSignupModal()">Create Account</button>
                </div>
                <div style="text-align: center; margin-top: 16px;">
                    <a href="#" style="font-size: 14px; color: var(--primary);">Forgot password?</a>
                </div>
            </form>
        </div>
    </div>

    <div id="signupModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('signupModal')">√ó</button>
            <div class="modal-header">
                <h2 class="modal-title">Create Your Account</h2>
            </div>
            <form onsubmit="handleSignup(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Full Name</label>
                        <input type="text" class="form-input" placeholder="John Doe" id="signupName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Company Name</label>
                        <input type="text" class="form-input" placeholder="Your Company Ltd" id="signupCompany" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email Address</label>
                        <input type="email" class="form-input" placeholder="your@email.com" id="signupEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Phone Number</label>
                        <input type="tel" class="form-input" placeholder="+265 xxx xxx xxx" id="signupPhone">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" placeholder="Create a password" id="signupPassword" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Confirm Password</label>
                        <input type="password" class="form-input" placeholder="Confirm your password" id="signupConfirmPassword" required>
                    </div>
                </div>
                <div class="form-group" style="margin-bottom: 20px;">
                    <input type="checkbox" id="termsAgree" required>
                    <label for="termsAgree" style="font-size: 14px;">
                        I agree to the <a href="#" onclick="showTermsModal()">Terms of Service</a> and <a href="#" onclick="showPrivacyModal()">Privacy Policy</a>
                    </label>
                </div>
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">Create Account & Start Trial</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <span id="notificationText"></span>
    </div>

    <!-- JavaScript Files -->

    <!-- JavaScript Files -->
    <script src="app.js"></script>
    <script src="landing.js"></script>
    <script src="tax-system.js"></script>
    <script src="invoice-system.js"></script>
    <script src="ifrs18.js"></script>
    <script src="all-modules.js"></script>
    <script src="chart-of-accounts-module.js"></script>
    <script src="financial-statements.js"></script>
    <script src="journal-entry-complete.js"></script>
    <script src="company-settings-module.js"></script>
</body>
</html>
